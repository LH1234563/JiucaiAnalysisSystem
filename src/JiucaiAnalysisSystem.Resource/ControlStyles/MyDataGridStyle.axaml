<Styles
    xmlns="https://github.com/avaloniaui"
    xmlns:collections="using:Avalonia.Collections"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Styles.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Dark">
                    <SolidColorBrush Color="{DynamicResource SystemBaseMediumColor}" x:Key="DataGridColumnHeaderForegroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAltHighColor}" x:Key="DataGridColumnHeaderBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridColumnHeaderHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListMediumColor}" x:Key="DataGridColumnHeaderPressedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumLowColor}" x:Key="DataGridColumnHeaderDraggedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumColor}" x:Key="DataGridRowGroupHeaderBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListMediumColor}" x:Key="DataGridRowGroupHeaderPressedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemBaseHighColor}" x:Key="DataGridRowGroupHeaderForegroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridRowGroupHeaderHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridRowHoveredBackgroundColor" />
                    <SolidColorBrush Color="{DynamicResource SystemErrorTextColor}" x:Key="DataGridRowInvalidBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedUnfocusedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedHoveredUnfocusedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemBaseHighColor}" x:Key="DataGridCellFocusVisualPrimaryBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAltMediumColor}" x:Key="DataGridCellFocusVisualSecondaryBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemErrorTextColor}" x:Key="DataGridCellInvalidBrush" />
                    <SolidColorBrush
                        Color="{DynamicResource SystemBaseMediumLowColor}"
                        Opacity="0.4"
                        x:Key="DataGridGridLinesBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumLowColor}" x:Key="DataGridDetailsPresenterBackgroundBrush" />

                </ResourceDictionary>
                <ResourceDictionary x:Key="Default">
                    <SolidColorBrush Color="{DynamicResource SystemBaseMediumColor}" x:Key="DataGridColumnHeaderForegroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAltHighColor}" x:Key="DataGridColumnHeaderBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridColumnHeaderHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListMediumColor}" x:Key="DataGridColumnHeaderPressedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumLowColor}" x:Key="DataGridColumnHeaderDraggedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumColor}" x:Key="DataGridRowGroupHeaderBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListMediumColor}" x:Key="DataGridRowGroupHeaderPressedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemBaseHighColor}" x:Key="DataGridRowGroupHeaderForegroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridRowGroupHeaderHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemListLowColor}" x:Key="DataGridRowHoveredBackgroundColor" />
                    <SolidColorBrush Color="{DynamicResource SystemErrorTextColor}" x:Key="DataGridRowInvalidBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedHoveredBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedUnfocusedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" x:Key="DataGridRowSelectedHoveredUnfocusedBackgroundBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemBaseHighColor}" x:Key="DataGridCellFocusVisualPrimaryBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemAltMediumColor}" x:Key="DataGridCellFocusVisualSecondaryBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemErrorTextColor}" x:Key="DataGridCellInvalidBrush" />
                    <SolidColorBrush
                        Color="{DynamicResource SystemBaseMediumLowColor}"
                        Opacity="0.4"
                        x:Key="DataGridGridLinesBrush" />
                    <SolidColorBrush Color="{DynamicResource SystemChromeMediumLowColor}" x:Key="DataGridDetailsPresenterBackgroundBrush" />

                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>

            <x:Double x:Key="ListAccentLowOpacity">0.6</x:Double>
            <x:Double x:Key="ListAccentMediumOpacity">0.8</x:Double>
            <x:Double x:Key="DataGridSortIconMinWidth">32</x:Double>

            <StreamGeometry x:Key="DataGridSortIconDescendingPath">M1875 1011l-787 787v-1798h-128v1798l-787 -787l-90 90l941 941l941 -941z</StreamGeometry>
            <StreamGeometry x:Key="DataGridSortIconAscendingPath">M1965 947l-941 -941l-941 941l90 90l787 -787v1798h128v-1798l787 787z</StreamGeometry>
            <StreamGeometry x:Key="DataGridRowGroupHeaderIconClosedPath">M515 93l930 931l-930 931l90 90l1022 -1021l-1022 -1021z</StreamGeometry>
            <StreamGeometry x:Key="DataGridRowGroupHeaderIconOpenedPath">M109 486 19 576 1024 1581 2029 576 1939 486 1024 1401z</StreamGeometry>

            <StaticResource ResourceKey="SystemControlTransparentBrush" x:Key="DataGridRowBackgroundBrush" />
            <StaticResource ResourceKey="ListAccentLowOpacity" x:Key="DataGridRowSelectedBackgroundOpacity" />
            <StaticResource ResourceKey="ListAccentMediumOpacity" x:Key="DataGridRowSelectedHoveredBackgroundOpacity" />
            <StaticResource ResourceKey="ListAccentLowOpacity" x:Key="DataGridRowSelectedUnfocusedBackgroundOpacity" />
            <StaticResource ResourceKey="ListAccentMediumOpacity" x:Key="DataGridRowSelectedHoveredUnfocusedBackgroundOpacity" />
            <StaticResource ResourceKey="SystemControlTransparentBrush" x:Key="DataGridCellBackgroundBrush" />
            <StaticResource ResourceKey="SystemControlTransparentBrush" x:Key="DataGridCurrencyVisualPrimaryBrush" />
            <StaticResource ResourceKey="SystemControlTransparentBrush" x:Key="DataGridFillerColumnGridLinesBrush" />

            <ControlTheme TargetType="TextBlock" x:Key="DataGridCellTextBlockTheme">
                <Setter Property="Margin" Value="12,0,12,0" />
                <Setter Property="VerticalAlignment" Value="Center" />
            </ControlTheme>
            <ControlTheme
                BasedOn="{StaticResource {x:Type TextBox}}"
                TargetType="TextBox"
                x:Key="DataGridCellTextBoxTheme">
                <Setter Property="VerticalAlignment" Value="Stretch" />
                <Setter Property="Background" Value="Transparent" />
                <Style Selector="^ /template/ DataValidationErrors">
                    <Setter Property="Theme" Value="{StaticResource TooltipDataValidationErrors}" />
                </Style>
            </ControlTheme>

            <ControlTheme TargetType="DataGridCell" x:Key="{x:Type DataGridCell}">
                <Setter Property="Background" Value="{DynamicResource DataGridCellBackgroundBrush}" />
                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                <Setter Property="VerticalContentAlignment" Value="Stretch" />
                <Setter Property="FontSize" Value="15" />
                <Setter Property="MinHeight" Value="32" />
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            x:Name="CellBorder">
                            <Grid ColumnDefinitions="*,Auto" x:Name="PART_CellRoot">

                                <Rectangle
                                    Fill="Transparent"
                                    HorizontalAlignment="Stretch"
                                    IsHitTestVisible="False"
                                    IsVisible="False"
                                    Stroke="{DynamicResource DataGridCurrencyVisualPrimaryBrush}"
                                    StrokeThickness="1"
                                    VerticalAlignment="Stretch"
                                    x:Name="CurrencyVisual" />
                                <Grid
                                    Grid.Column="0"
                                    IsHitTestVisible="False"
                                    IsVisible="False"
                                    x:Name="FocusVisual">
                                    <Rectangle
                                        Fill="Transparent"
                                        HorizontalAlignment="Stretch"
                                        IsHitTestVisible="False"
                                        Stroke="{DynamicResource DataGridCellFocusVisualPrimaryBrush}"
                                        StrokeThickness="2"
                                        VerticalAlignment="Stretch" />
                                    <Rectangle
                                        Fill="Transparent"
                                        HorizontalAlignment="Stretch"
                                        IsHitTestVisible="False"
                                        Margin="2"
                                        Stroke="{DynamicResource DataGridCellFocusVisualSecondaryBrush}"
                                        StrokeThickness="1"
                                        VerticalAlignment="Stretch" />
                                </Grid>

                                <ContentPresenter
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    Foreground="{TemplateBinding Foreground}"
                                    Grid.Column="0"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

                                <Rectangle
                                    Grid.Column="0"
                                    HorizontalAlignment="Stretch"
                                    IsHitTestVisible="False"
                                    IsVisible="False"
                                    Stroke="{DynamicResource DataGridCellInvalidBrush}"
                                    StrokeThickness="1"
                                    VerticalAlignment="Stretch"
                                    x:Name="InvalidVisualElement" />

                                <Rectangle
                                    Fill="{DynamicResource DataGridFillerColumnGridLinesBrush}"
                                    Grid.Column="1"
                                    Name="PART_RightGridLine"
                                    VerticalAlignment="Stretch"
                                    Width="1" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter>
                <Style Selector="^:current /template/ Rectangle#CurrencyVisual">
                    <Setter Property="IsVisible" Value="True" />
                </Style>
                <Style Selector="^:focus /template/ Grid#FocusVisual">
                    <Setter Property="IsVisible" Value="True" />
                </Style>
                <Style Selector="^:invalid /template/ Rectangle#InvalidVisualElement">
                    <Setter Property="IsVisible" Value="True" />
                </Style>
            </ControlTheme>

            <ControlTheme TargetType="DataGridColumnHeader" x:Key="{x:Type DataGridColumnHeader}">
                <Setter Property="Foreground" Value="{DynamicResource DataGridColumnHeaderForegroundBrush}" />
                <Setter Property="Background" Value="{DynamicResource DataGridColumnHeaderBackgroundBrush}" />
                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="SeparatorBrush" Value="{DynamicResource DataGridGridLinesBrush}" />
                <Setter Property="Padding" Value="12,0,0,0" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="MinHeight" Value="32" />
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            x:Name="HeaderBorder">
                            <Grid ColumnDefinitions="*,Auto" Name="PART_ColumnHeaderRoot">

                                <Panel
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition MinWidth="{DynamicResource DataGridSortIconMinWidth}" Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <ContentPresenter
                                            Content="{TemplateBinding Content}"
                                            ContentTemplate="{TemplateBinding ContentTemplate}"
                                            x:Name="PART_ContentPresenter" />

                                        <Path
                                            Fill="{TemplateBinding Foreground}"
                                            Grid.Column="1"
                                            Height="12"
                                            HorizontalAlignment="Center"
                                            IsVisible="False"
                                            Name="SortIcon"
                                            Stretch="Uniform"
                                            VerticalAlignment="Center" />
                                    </Grid>
                                </Panel>

                                <Rectangle
                                    Fill="{TemplateBinding SeparatorBrush}"
                                    Grid.Column="1"
                                    IsVisible="{TemplateBinding AreSeparatorsVisible}"
                                    Name="VerticalSeparator"
                                    VerticalAlignment="Stretch"
                                    Width="1" />

                                <Grid
                                    IsHitTestVisible="False"
                                    IsVisible="False"
                                    x:Name="FocusVisual">
                                    <Rectangle
                                        Fill="Transparent"
                                        HorizontalAlignment="Stretch"
                                        IsHitTestVisible="False"
                                        Stroke="{DynamicResource DataGridCellFocusVisualPrimaryBrush}"
                                        StrokeThickness="2"
                                        VerticalAlignment="Stretch"
                                        x:Name="FocusVisualPrimary" />
                                    <Rectangle
                                        Fill="Transparent"
                                        HorizontalAlignment="Stretch"
                                        IsHitTestVisible="False"
                                        Margin="2"
                                        Stroke="{DynamicResource DataGridCellFocusVisualSecondaryBrush}"
                                        StrokeThickness="1"
                                        VerticalAlignment="Stretch"
                                        x:Name="FocusVisualSecondary" />
                                </Grid>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:focus-visible /template/ Grid#FocusVisual">
                    <Setter Property="IsVisible" Value="True" />
                </Style>

                <Style Selector="^:pointerover /template/ Grid#PART_ColumnHeaderRoot">
                    <Setter Property="Background" Value="{DynamicResource DataGridColumnHeaderHoveredBackgroundBrush}" />
                </Style>

                <Style Selector="^:pressed /template/ Grid#PART_ColumnHeaderRoot">
                    <Setter Property="Background" Value="{DynamicResource DataGridColumnHeaderPressedBackgroundBrush}" />
                </Style>

                <Style Selector="^:dragIndicator">
                    <Setter Property="Opacity" Value="0.5" />
                </Style>

                <Style Selector="^:sortascending /template/ Path#SortIcon">
                    <Setter Property="IsVisible" Value="True" />
                    <Setter Property="Data" Value="{StaticResource DataGridSortIconAscendingPath}" />
                </Style>

                <Style Selector="^:sortdescending /template/ Path#SortIcon">
                    <Setter Property="IsVisible" Value="True" />
                    <Setter Property="Data" Value="{StaticResource DataGridSortIconDescendingPath}" />
                </Style>
            </ControlTheme>

            <ControlTheme
                BasedOn="{StaticResource {x:Type DataGridColumnHeader}}"
                TargetType="DataGridColumnHeader"
                x:Key="DataGridTopLeftColumnHeader">
                <Setter Property="Template">
                    <ControlTemplate>
                        <Grid RowDefinitions="*,*,Auto" x:Name="TopLeftHeaderRoot">
                            <Border
                                BorderBrush="{DynamicResource DataGridGridLinesBrush}"
                                BorderThickness="0,0,1,0"
                                Grid.RowSpan="2" />
                            <Rectangle
                                Fill="{DynamicResource DataGridGridLinesBrush}"
                                Grid.Row="0"
                                Grid.RowSpan="2"
                                Height="1"
                                StrokeThickness="1"
                                VerticalAlignment="Bottom" />
                        </Grid>
                    </ControlTemplate>
                </Setter>
            </ControlTheme>

            <ControlTheme TargetType="DataGridRowHeader" x:Key="{x:Type DataGridRowHeader}">
                <Setter Property="SeparatorBrush" Value="{DynamicResource DataGridGridLinesBrush}" />
                <Setter Property="AreSeparatorsVisible" Value="False" />
                <Setter Property="Template">
                    <ControlTemplate>
                        <Grid
                            ColumnDefinitions="Auto,*"
                            RowDefinitions="*,*,Auto"
                            x:Name="PART_Root">
                            <Border
                                BorderBrush="{TemplateBinding SeparatorBrush}"
                                BorderThickness="0,0,1,0"
                                Grid.ColumnSpan="2"
                                Grid.RowSpan="3">
                                <Grid Background="{TemplateBinding Background}">
                                    <Rectangle
                                        Fill="{DynamicResource DataGridRowInvalidBrush}"
                                        Opacity="0"
                                        Stretch="Fill"
                                        x:Name="RowInvalidVisualElement" />
                                    <Rectangle
                                        Fill="{DynamicResource DataGridRowBackgroundBrush}"
                                        Stretch="Fill"
                                        x:Name="BackgroundRectangle" />
                                </Grid>
                            </Border>
                            <Rectangle
                                Fill="{TemplateBinding SeparatorBrush}"
                                Grid.ColumnSpan="2"
                                Grid.Row="2"
                                Height="1"
                                HorizontalAlignment="Stretch"
                                IsVisible="{TemplateBinding AreSeparatorsVisible}"
                                Margin="1,0,1,0"
                                x:Name="HorizontalSeparator" />

                            <ContentPresenter
                                Content="{TemplateBinding Content}"
                                Grid.Column="1"
                                Grid.RowSpan="2"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                        </Grid>
                    </ControlTemplate>
                </Setter>
            </ControlTheme>

            <ControlTheme TargetType="DataGridRow" x:Key="{x:Type DataGridRow}">
                <Setter Property="Background" Value="{Binding $parent[DataGrid].RowBackground}" />
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            x:Name="RowBorder">
                            <DataGridFrozenGrid
                                ColumnDefinitions="Auto,*"
                                Name="PART_Root"
                                RowDefinitions="*,Auto,Auto">

                                <Rectangle
                                    Fill="{DynamicResource DataGridRowBackgroundBrush}"
                                    Grid.ColumnSpan="2"
                                    Grid.RowSpan="2"
                                    Name="BackgroundRectangle" />
                                <Rectangle
                                    Fill="{DynamicResource DataGridRowInvalidBrush}"
                                    Grid.ColumnSpan="2"
                                    Opacity="0"
                                    x:Name="InvalidVisualElement" />

                                <DataGridRowHeader
                                    DataGridFrozenGrid.IsFrozen="True"
                                    Grid.RowSpan="3"
                                    Name="PART_RowHeader" />
                                <DataGridCellsPresenter
                                    DataGridFrozenGrid.IsFrozen="True"
                                    Grid.Column="1"
                                    Name="PART_CellsPresenter" />
                                <DataGridDetailsPresenter
                                    Background="{DynamicResource DataGridDetailsPresenterBackgroundBrush}"
                                    Grid.Column="1"
                                    Grid.Row="1"
                                    Name="PART_DetailsPresenter" />
                                <Rectangle
                                    Grid.Column="1"
                                    Grid.Row="2"
                                    Height="1"
                                    HorizontalAlignment="Stretch"
                                    Name="PART_BottomGridLine" />

                            </DataGridFrozenGrid>
                        </Border>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:invalid">
                    <Style Selector="^ /template/ Rectangle#InvalidVisualElement">
                        <Setter Property="Opacity" Value="0.4" />
                    </Style>
                    <Style Selector="^ /template/ Rectangle#BackgroundRectangle">
                        <Setter Property="Opacity" Value="0" />
                    </Style>
                </Style>

                <Style Selector="^:pointerover /template/ Rectangle#BackgroundRectangle">
                    <Setter Property="Fill" Value="{DynamicResource DataGridRowHoveredBackgroundColor}" />
                </Style>

                <Style Selector="^:selected">
                    <Style Selector="^ /template/ Rectangle#BackgroundRectangle">
                        <Setter Property="Fill" Value="{DynamicResource DataGridRowSelectedUnfocusedBackgroundBrush}" />
                        <Setter Property="Opacity" Value="{DynamicResource DataGridRowSelectedUnfocusedBackgroundOpacity}" />
                    </Style>
                    <Style Selector="^:pointerover /template/ Rectangle#BackgroundRectangle">
                        <Setter Property="Fill" Value="{DynamicResource DataGridRowSelectedHoveredUnfocusedBackgroundBrush}" />
                        <Setter Property="Opacity" Value="{DynamicResource DataGridRowSelectedHoveredUnfocusedBackgroundOpacity}" />
                    </Style>
                    <Style Selector="^:focus /template/ Rectangle#BackgroundRectangle">
                        <Setter Property="Fill" Value="{DynamicResource DataGridRowSelectedBackgroundBrush}" />
                        <Setter Property="Opacity" Value="{DynamicResource DataGridRowSelectedBackgroundOpacity}" />
                    </Style>
                    <Style Selector="^:pointerover:focus /template/ Rectangle#BackgroundRectangle">
                        <Setter Property="Fill" Value="{DynamicResource DataGridRowSelectedHoveredBackgroundBrush}" />
                        <Setter Property="Opacity" Value="{DynamicResource DataGridRowSelectedHoveredBackgroundOpacity}" />
                    </Style>
                </Style>
            </ControlTheme>

            <ControlTheme TargetType="ToggleButton" x:Key="FluentDataGridRowGroupExpanderButtonTheme">
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border
                            Background="Transparent"
                            Height="12"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Width="12">
                            <Path
                                Data="{StaticResource DataGridRowGroupHeaderIconClosedPath}"
                                Fill="{TemplateBinding Foreground}"
                                HorizontalAlignment="Right"
                                Stretch="Uniform"
                                VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter>
                <Style Selector="^:checked /template/ Path">
                    <Setter Property="Data" Value="{StaticResource DataGridRowGroupHeaderIconOpenedPath}" />
                </Style>
            </ControlTheme>

            <ControlTheme TargetType="DataGridRowGroupHeader" x:Key="{x:Type DataGridRowGroupHeader}">
                <Setter Property="Foreground" Value="{DynamicResource DataGridRowGroupHeaderForegroundBrush}" />
                <Setter Property="Background" Value="{DynamicResource DataGridRowGroupHeaderBackgroundBrush}" />
                <Setter Property="FontSize" Value="15" />
                <Setter Property="MinHeight" Value="32" />
                <Setter Property="Template">
                    <ControlTemplate x:DataType="collections:DataGridCollectionViewGroup">
                        <DataGridFrozenGrid
                            Background="{TemplateBinding Background}"
                            ColumnDefinitions="Auto,Auto,Auto,Auto,*"
                            MinHeight="{TemplateBinding MinHeight}"
                            Name="PART_Root"
                            RowDefinitions="*,Auto">

                            <Rectangle Grid.Column="1" Name="PART_IndentSpacer" />
                            <ToggleButton
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}"
                                Foreground="{TemplateBinding Foreground}"
                                Grid.Column="2"
                                Height="12"
                                IsTabStop="False"
                                Margin="12,0,0,0"
                                Name="PART_ExpanderButton"
                                Theme="{StaticResource FluentDataGridRowGroupExpanderButtonTheme}"
                                Width="12" />

                            <StackPanel
                                Grid.Column="3"
                                Margin="12,0,0,0"
                                Orientation="Horizontal"
                                VerticalAlignment="Center">
                                <TextBlock
                                    Foreground="{TemplateBinding Foreground}"
                                    IsVisible="{TemplateBinding IsPropertyNameVisible}"
                                    Margin="4,0,0,0"
                                    Name="PART_PropertyNameElement" />
                                <TextBlock
                                    Foreground="{TemplateBinding Foreground}"
                                    Margin="4,0,0,0"
                                    Text="{Binding Key}" />
                                <TextBlock
                                    Foreground="{TemplateBinding Foreground}"
                                    IsVisible="{TemplateBinding IsItemCountVisible}"
                                    Margin="4,0,0,0"
                                    Name="PART_ItemCountElement" />
                            </StackPanel>

                            <Rectangle
                                Fill="Transparent"
                                Grid.ColumnSpan="5"
                                HorizontalAlignment="Stretch"
                                IsHitTestVisible="False"
                                IsVisible="False"
                                Stroke="{DynamicResource DataGridCurrencyVisualPrimaryBrush}"
                                StrokeThickness="1"
                                VerticalAlignment="Stretch"
                                x:Name="CurrencyVisual" />
                            <Grid
                                Grid.ColumnSpan="5"
                                IsHitTestVisible="False"
                                IsVisible="False"
                                x:Name="FocusVisual">
                                <Rectangle
                                    Fill="Transparent"
                                    HorizontalAlignment="Stretch"
                                    IsHitTestVisible="False"
                                    Stroke="{DynamicResource DataGridCellFocusVisualPrimaryBrush}"
                                    StrokeThickness="2"
                                    VerticalAlignment="Stretch" />
                                <Rectangle
                                    Fill="Transparent"
                                    HorizontalAlignment="Stretch"
                                    IsHitTestVisible="False"
                                    Margin="2"
                                    Stroke="{DynamicResource DataGridCellFocusVisualSecondaryBrush}"
                                    StrokeThickness="1"
                                    VerticalAlignment="Stretch" />
                            </Grid>

                            <DataGridRowHeader
                                DataGridFrozenGrid.IsFrozen="True"
                                Grid.RowSpan="2"
                                Name="PART_RowHeader" />

                            <Rectangle
                                Grid.ColumnSpan="5"
                                Grid.Row="1"
                                Height="1"
                                x:Name="PART_BottomGridLine" />
                        </DataGridFrozenGrid>
                    </ControlTemplate>
                </Setter>
            </ControlTheme>

            <ControlTheme TargetType="DataGrid" x:Key="{x:Type DataGrid}">
                <Setter Property="RowBackground" Value="Transparent" />
                <Setter Property="HeadersVisibility" Value="Column" />
                <Setter Property="HorizontalScrollBarVisibility" Value="Auto" />
                <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
                <Setter Property="SelectionMode" Value="Extended" />
                <Setter Property="GridLinesVisibility" Value="None" />
                <Setter Property="HorizontalGridLinesBrush" Value="{DynamicResource DataGridGridLinesBrush}" />
                <Setter Property="VerticalGridLinesBrush" Value="{DynamicResource DataGridGridLinesBrush}" />
                <Setter Property="FocusAdorner" Value="{x:Null}" />
                <Setter Property="DropLocationIndicatorTemplate">
                    <Template>
                        <Rectangle Fill="{DynamicResource DataGridDropLocationIndicatorBackground}" Width="2" />
                    </Template>
                </Setter>
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            x:Name="DataGridBorder">
                            <Grid
                                ClipToBounds="True"
                                ColumnDefinitions="Auto,*,Auto"
                                RowDefinitions="Auto,*,Auto,Auto">
                                <DataGridColumnHeader Name="PART_TopLeftCornerHeader" Theme="{StaticResource DataGridTopLeftColumnHeader}" />
                                <DataGridColumnHeadersPresenter
                                    Grid.Column="1"
                                    Grid.ColumnSpan="2"
                                    Grid.Row="0"
                                    Name="PART_ColumnHeadersPresenter" />
                                <Rectangle
                                    Fill="{DynamicResource DataGridGridLinesBrush}"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="3"
                                    Grid.Row="0"
                                    Height="1"
                                    Name="PART_ColumnHeadersAndRowsSeparator"
                                    VerticalAlignment="Bottom" />

                                <DataGridRowsPresenter
                                    Grid.Column="0"
                                    Grid.Row="1"
                                    Name="PART_RowsPresenter"
                                    ScrollViewer.IsScrollInertiaEnabled="{TemplateBinding IsScrollInertiaEnabled}">
                                    <DataGridRowsPresenter.GestureRecognizers>
                                        <ScrollGestureRecognizer
                                            CanHorizontallyScroll="True"
                                            CanVerticallyScroll="True"
                                            IsScrollInertiaEnabled="{Binding (ScrollViewer.IsScrollInertiaEnabled), ElementName=PART_RowsPresenter}" />
                                    </DataGridRowsPresenter.GestureRecognizers>
                                </DataGridRowsPresenter>
                                <Rectangle
                                    Fill="{DynamicResource DataGridScrollBarsSeparatorBackground}"
                                    Grid.Column="2"
                                    Grid.Row="2"
                                    Name="PART_BottomRightCorner" />
                                <ScrollBar
                                    Grid.Column="2"
                                    Grid.Row="1"
                                    Name="PART_VerticalScrollbar"
                                    Orientation="Vertical"
                                    Width="{DynamicResource ScrollBarSize}" />

                                <Grid
                                    ColumnDefinitions="Auto,*"
                                    Grid.Column="1"
                                    Grid.Row="2">
                                    <Rectangle Name="PART_FrozenColumnScrollBarSpacer" />
                                    <ScrollBar
                                        Grid.Column="1"
                                        Height="{DynamicResource ScrollBarSize}"
                                        Name="PART_HorizontalScrollbar"
                                        Orientation="Horizontal" />
                                </Grid>
                                <Border
                                    Background="{DynamicResource DataGridDisabledVisualElementBackground}"
                                    CornerRadius="2"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="3"
                                    Grid.Row="0"
                                    Grid.RowSpan="4"
                                    HorizontalAlignment="Stretch"
                                    IsHitTestVisible="False"
                                    IsVisible="{Binding !$parent[DataGrid].IsEnabled}"
                                    VerticalAlignment="Stretch"
                                    x:Name="PART_DisabledVisualElement" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:empty-columns">
                    <Style Selector="^ /template/ DataGridColumnHeader#PART_TopLeftCornerHeader">
                        <Setter Property="IsVisible" Value="False" />
                    </Style>
                    <Style Selector="^ /template/ DataGridColumnHeadersPresenter#PART_ColumnHeadersPresenter">
                        <Setter Property="IsVisible" Value="False" />
                    </Style>
                    <Style Selector="^ /template/ Rectangle#PART_ColumnHeadersAndRowsSeparator">
                        <Setter Property="IsVisible" Value="False" />
                    </Style>
                </Style>
                <Style Selector="^ /template/ DataGridRowsPresenter#PART_RowsPresenter">
                    <Setter Property="Grid.RowSpan" Value="2" />
                    <Setter Property="Grid.ColumnSpan" Value="3" />
                </Style>
            </ControlTheme>
        </ResourceDictionary>
    </Styles.Resources>
</Styles>